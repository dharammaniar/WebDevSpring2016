<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1>{{model.stock.company}}
            </h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="huge">{{model.date}}</div>
                            <div>Date</div>
                        </div>
                        <div class="col-xs-6 text-right">
                            <div class="huge">{{model.indexValue}}</div>
                            <div>Index</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="panel panel-green">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="huge">{{model.difference}}</div>
                            <div>Difference</div>
                        </div>
                        <div class="col-xs-6 text-right">
                            <div class="huge">{{model.percentage}}</div>
                            <div>Percentage</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="panel panel-yellow">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="huge">{{model.high}}</div>
                            <div>High</div>
                        </div>
                        <div class="col-xs-6 text-right">
                            <div class="huge">{{model.low}}</div>
                            <div>Low</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="panel panel-red">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="huge">{{model.volume}}</div>
                            <div>Volume</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-show="user">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <button type="button" ng-click="model.addToPortfolio()" class="btn btn-info form-control">Add to Portfolio</button>
                            </div>
                            <div class="col-lg-6 messageboard">
                                <button type="button" ng-click="model.goToMessageBoard()" class="btn btn-info form-control">Go to MessageBoard</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-show="user">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-share-square-o" aria-hidden="true"></i> Send a recommendation
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <form class="form-horizontal">
                                <div class="col-lg-3 nowrap">
                                    <b>Action:</b>
                                    <select class="form-control" ng-model="model.recommendation.action" class="form-control">
                                        <option selected>Buy</option>
                                        <option>Sell</option>
                                        <option>Hold</option>
                                    </select>
                                </div>
                                <div class="col-lg-3 nowrap">
                                    <b>Target Price:</b><input type="text" ng-model="model.recommendation.target" class="form-control" placeholder="Enter Price">
                                </div>
                                <div class="col-lg-3 nowrap">
                                    <b>Select Investor:</b>
                                    <select class="form-control" ng-model="model.recommendation.user" class="form-control">
                                        <option value="{{user._id}}" ng-repeat="user in model.users">{{user.username}}</option>
                                    </select>
                                </div>
                                <div class="col-lg-3 nowrap paddingTop20">
                                    <button id="sendRecommendation" ng-click="model.sendRecommendation(model.recommendation)" class="btn btn-primary form-control"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i> Send</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> Basic Chart
                    </div>
                    <div class="panel-body">
                        <div id="basicChartContainer"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-show="(user && user.type === 'analyst')">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> Advanced Chart
                    </div>
                    <div class="panel-body">
                        <div id="advancedChartContainer"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-clock-o fa-fw"></i> News
                    </div>
                    <div class="panel-body">
                        <ul class="timeline" ng-repeat="each in model.news">
                            <li ng-class="{'timeline-inverted': ($index%2 != 0)}">
                                <div class="timeline-badge"><i class="fa fa-newspaper-o"></i>
                                </div>
                                <div class="timeline-panel">
                                    <div class="timeline-heading">
                                        <h4 class="timeline-title"><a href="{{each.url}}" target="_blank"><div ng-bind-html="model.deliberatelyTrustDangerousSnippet(each.title)"></div></a></h4>
                                        <p><small class="text-muted"><i class="fa fa-clock-o"></i> {{each.date}}</small>
                                        </p>
                                    </div>
                                    <div class="timeline-body">
                                        <div ng-bind-html="model.deliberatelyTrustDangerousSnippet(each.content)"></div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>